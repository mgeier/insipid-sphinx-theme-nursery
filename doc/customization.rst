Customization
=============

If you want to go beyond :doc:`configuration`, you've come to the right page!


Custom CSS files
----------------

Adding your own CSS files is very easy.
Just add their file names to :confval:`html_css_files`
and make sure they are living in a directory
that's part of :confval:`html_static_path`.

For example, if the path to your CSS file is :file:`_static/funky.css`
(relative to your :file:`conf.py`), you can use something like this:

.. code-block:: python

    html_css_files = ['funky.css']
    html_static_path = ['_static']


Custom JavaScript Files
-----------------------

Similarly, you can add JavaScript files located in the
:confval:`html_static_path` by adding their paths
(again, relative to :file:`conf.py`) to :confval:`html_js_files`.

The JavaScript frameworks jQuery_ and underscore.js_ are available
(using ``$`` and ``$u``, respectively).

.. _jQuery: https://jquery.com/
.. _underscore.js: https://underscorejs.org/

Custom Templates
----------------

Each HTML page generated by Sphinx is pieced together from multiple components,
called *templates*.
You can create your own templates in order to customize certain parts.
All your templates must live in a directory that's part of the
:confval:`templates_path` (or a sub-directory thereof).

.. code-block:: python

    templates_path = ['_templates']

Some parts of the generated pages are just lists of templates,
namely :confval:`html_sidebars`,
:theme-option:`left_buttons` and
:theme-option:`right_buttons`.
You can create arbitrary new files and add them to those lists.

You can also extend (or completely replace) existing templates
(:gh-template:`layout.html`, :gh-template:`page.html`,
:gh-template:`footer.html` etc.).
For example, you can extend the template :gh-template:`layout.html`
by creating your own file named :file:`layout.html`:

.. code-block:: html+jinja
    :name: layout-html
    :caption: :file:`_templates/layout.html`

    {% extends "!layout.html" %}

    {% block htmltitle %}
    <title>Best docs ever!</title>
    {% endblock %}

    {% block relbar1 %}{% endblock %}

    {% block relbar2 %}{% endblock %}

    {% block comments %}
    <!-- embed some comment service here -->
    {% endblock %}

    {% block footer %}
    {{ super() }}
    <!-- embed some analytics service here -->
    {% endblock %}

The ``relbar1`` and ``relbar2`` blocks are used to overwrite
the previous/next links at the top and bottom of each page, respectively.

If you don't use the ``extends`` tag,
you can completely replace a given template.
By leaving the file empty, you can disable a template.

Use ``{{ super() }}`` to include the contents of the original block.
Otherwise, the contents are overwritten.

For further information, see :doc:`templating`.


Custom SVG Icons
----------------

The :gh-template:`icons` used by the ``insipid`` theme are templates as well.
Their content is copied into the generated HTML files.

You can replace icons the same way as any other template.
For example, to replace the :file:`icons/menu.svg` icon,
simply store a new SVG file at :file:`_templates/icons/menu.svg`.

To include the contents of an SVG file in your own HTML template,
use the ``include`` tag, e.g.:

.. code-block:: html+jinja

    <a href="https://mastodon.online/@...">
      {% include 'icons/mastodon.svg' %}
    </a>

Derive Your Own Theme
---------------------

:doc:`theming`

...

.. code-block:: ini
    :name: derived-theme-conf
    :caption: Starting point for your own :file:`theme.conf`

    [theme]
    inherit = insipid
    stylesheet = ???.css
    sidebars = ???.html, ???.html, ???.html
    pygments_style = ???

    [options]
    left_buttons = ???.html, ???.html
    right_buttons = ???.html

    breadcrumbs = true

    your_own_option1 = 4em
    your_own_option2 = true

    # and so on and so on ...

.. todo:: describe CSS file, import insipid.css?
